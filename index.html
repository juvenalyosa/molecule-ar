<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Molecule AR Viewer</title>
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
  <style>
    body{margin:0;min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:14px;font-family:system-ui,Arial,sans-serif}
    h1{margin:0;font-size:1.1rem}
    model-viewer{width:min(92vw,980px);height:min(70vh,640px);background:#fff}
    .hint{opacity:.75;font-size:.9rem;text-align:center;max-width:900px}
    a.button{padding:.55rem .9rem;border:1px solid #ccc;border-radius:999px;text-decoration:none}
  </style>
</head>
<body>
  <h1>View Molecule in AR</h1>

  <!-- iPhone/iPad: force scaling allowed in Quick Look -->
  <a class="button" rel="ar" href="./molecule.usdz#allowsContentScaling=1">ðŸ‘† iPhone / iPad: Open in AR</a>

  <!-- 3D viewer (rotate/zoom freely) + AR button for Android -->
  <model-viewer id="mv"
    src="./molecule.glb"
    ios-src="./molecule.usdz#allowsContentScaling=1"
    ar
    ar-modes="quick-look scene-viewer webxr"
    ar-scale="auto"          <!-- ensure scaling is permitted in AR -->
    ar-placement="floor"
    camera-controls          <!-- full manipulation in the on-page 3D viewer -->
    auto-rotate
    auto-rotate-delay="2500"
    shadow-intensity="1"
    exposure="1.05">
  </model-viewer>

  <div class="hint">
    <b>3D viewer (on this page):</b> drag = rotate â€¢ wheel/pinch = zoom â€¢ double-tap = recenter.<br>
    <b>In AR:</b> drag = move â€¢ pinch = scale â€¢ two-finger twist = rotate (around vertical). Walk around the model to see other angles.
  </div>
</body>
</html>
